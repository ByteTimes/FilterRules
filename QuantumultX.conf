# Quantumult X é…ç½®æ–‡ä»¶ #
# ==UserScript==
# @ConfigName        ç­‘æ¢¦é˜è‡ªç”¨çš„QXé…ç½®æ–‡ä»¶
# @website           https://www.dreamstart.site
# @UpdateTime        2023/04/10 18:10 UTC/GMT +8
# @ConfigURL         https://github.com/ByteTimes/FilterRules/raw/Rules/QuantumultX.conf
# ==/UserScript==


# > å»ºè®®åœ¨ã€Œå…¶ä»–è®¾ç½®ã€é‡Œã€ŒGeoLite2ã€çš„ã€Œæ¥æºã€å¡«å†™ä½¿ç”¨ä¸‹é¢é“¾æ¥ï¼Œå¹¶å¼€å¯ã€Œè‡ªåŠ¨æ›´æ–°ã€
# https://ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb

# > åˆ©ç”¨æè¿°æ–‡ä»¶å±è”½IOSæ›´æ–°æé†’ï¼ˆå…¼å®¹IOS13ã€14ã€15ã€16ï¼‰
# https://initnil.com/tvOS.mobileconfig

# ğŸŸ¢ ä»¥ä¸Šå…¨éƒ¨å†…å®¹[åŒ…æ‹¬æœ¬è¡Œ]å¯è‡ªè¡Œåœ¨é…ç½®ä¸­åˆ é™¤ï¼Œå¯¹ä½¿ç”¨å¹¶æ— å½±å“


[general]
# > ç”¨äºè®¾ç½®å›¾æ ‡æ˜¾ç¤º
profile_img_url=https://ghproxy.com/https://raw.githubusercontent.com/ByteTimes/FilterRules/Rules/Images/Color/surge.png
# > ç”¨äºèŠ‚ç‚¹å»¶è¿Ÿæµ‹è¯•
server_check_url=http://www.gstatic.com/generate_204
# > æœåŠ¡å™¨æµ‹è¯•è¶…æ—¶æ—¶é—´ (æ¯«ç§’)
server_check_timeout=3000
# > dns_exclusion_list
dns_exclusion_list=*.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, id6.me, *.pingan.com.cn, *.cmbchina.com
# > åŠŸèƒ½å¼ºå¤§çš„è§£æå™¨ï¼Œç”¨äºå¼•ç”¨èµ„æºçš„è½¬æ¢
resource_parser_url=https://ghproxy.com/https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/resource-parser.js
# > ç”¨äºCheckèŠ‚ç‚¹IPåœ°å€(ä»¥ä¸‹geo_location_checkerä»»é€‰ä¸€ä¸ªå³å¯)
#geo_location_checker=disabled
geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://ghproxy.com/https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/IP_API.js
# > ä¸‹åˆ—è·¯å¾„å°†ä¸ç»è¿‡QuanXçš„å¤„ç†
excluded_routes=239.255.255.250/32, 24.105.30.129/32, 185.60.112.157/32, 185.60.112.158/32, 182.162.132.1/32
udp_whitelist=1-442, 444-65535
# > ç¬¬ä¸€ä¸ªfilterä¸º4gæ¨¡å¼å¼€å¯è§„åˆ™åˆ†æµï¼Œç¬¬äºŒä¸ªfilterä¸ºå…¶ä»–wifiä¸‹å¼€å¯è§„åˆ™åˆ†æµï¼Œç¬¬ä¸‰ä¸ªWi-Fi-5Gä¿®æ”¹æˆä½ è·¯ç”±å™¨ç¿»å¢™çš„wifiåå¼€å¯ä»£ç†æ¨¡å¼ï¼Œç¬¬å››ä¸ªWI-FIä¸ºä½ æ— éœ€è·¯ç”±å™¨ç¿»å¢™çš„WiFiåèµ°ç›´è¿æ¨¡å¼
# > é»˜è®¤å…³é—­æ ¹æ®wifiåˆ‡æ¢æ¨¡å¼ï¼Œå¦‚éœ€å¼€å¯ï¼Œåˆ é™¤ä¸‹æ–¹çš„"#"å³å¯
#running_mode_trigger=filter, filter, Wi-Fi-5G:all_proxy, WI-FI:all_direct
# > QuantumultXæš‚åœçš„Wi-Fiï¼Œå¤šä¸ªwifiç”¨â€œ,â€è¿æ¥
#ssid_suspended_list=WI-FI, Wi-Fi

[dns]
#prefer-doh3
#doh-server = https://223.5.5.5/dns-query, https://223.6.6.6/dns-query
no-system
#no-ipv6
server=114.114.114.114
server=223.5.5.5
server=119.29.29.29
server=8.8.8.8
server=/*.taobao.com/223.5.5.5
server=/*.tmall.com/223.5.5.5
server=/*.alipay.com/223.5.5.5
server=/*.alicdn.com/223.5.5.5
server=/*.aliyun.com/223.5.5.5
server=/*.jd.com/119.28.28.28
server=/*.qq.com/119.28.28.28
server=/*.tencent.com/119.28.28.28
server=/*.weixin.com/119.28.28.28
address=/mtalk.google.com/108.177.125.188

[policy]
static=ç»ˆæç­–ç•¥, direct, proxy, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, img-url=https://ghproxy.com/https://raw.githubusercontent.com/ByteTimes/FilterRules/Rules/Images/Color/China-map.png
static=å¹¿å‘Šå±è”½, direct, reject, img-url=https://ghproxy.com/https://raw.githubusercontent.com/ByteTimes/FilterRules/Rules/Images/Color/Available.png
static=å…¨çƒåŠ é€Ÿ, direct, proxy, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, è‹±å›½èŠ‚ç‚¹, img-url=https://ghproxy.com/https://raw.githubusercontent.com/ByteTimes/FilterRules/Rules/Images/Color/Global.png
static=è‹¹æœæœåŠ¡, direct, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, img-url=https://ghproxy.com/https://raw.githubusercontent.com/ByteTimes/FilterRules/Rules/Images/Color/Apple.png
static=å›½é™…åª’ä½“, direct, proxy, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, è‹±å›½èŠ‚ç‚¹, img-url=https://ghproxy.com/https://raw.githubusercontent.com/ByteTimes/FilterRules/Rules/Images/Color/Streaming.png
static=æµ·å¤–ç‰ˆæœ¬, direct, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, img-url=https://ghproxy.com/https://raw.githubusercontent.com/ByteTimes/FilterRules/Rules/Images/Color/Bilibili.png

#é»˜è®¤è®¾ç½®10åˆ†é’Ÿæµ‹é€Ÿä¸€æ¬¡
url-latency-benchmark=è‡ªåŠ¨é€‰æ‹©, server-tag-regex=^(.(?!(ç­‘æ¢¦é˜|dreamstart.site)))*$, check-interval=600, tolerance=0, img-url=https://ghproxy.com/https://raw.githubusercontent.com/ByteTimes/FilterRules/Rules/Images/Color/Auto.png
url-latency-benchmark=é¦™æ¸¯èŠ‚ç‚¹, server-tag-regex=(?=.*(æ¸¯|HK|(?i)Hong))^((?!(å°|æ—¥|éŸ©|æ–°|ç¾|è‹±|æµ·å¤–)).)*$, check-interval=600, tolerance=0, img-url=https://ghproxy.com/https://raw.githubusercontent.com/ByteTimes/FilterRules/Rules/Images/Color/country/HK.png
url-latency-benchmark=å°æ¹¾èŠ‚ç‚¹, server-tag-regex=(?=.*(å°|TW|(?i)Taiwan))^((?!(æ¸¯|æ—¥|éŸ©|æ–°|ç¾|è‹±|æµ·å¤–)).)*$, check-interval=600, tolerance=0, img-url=https://ghproxy.com/https://raw.githubusercontent.com/ByteTimes/FilterRules/Rules/Images/Color/country/TW.png
url-latency-benchmark=æ—¥æœ¬èŠ‚ç‚¹, server-tag-regex=(?=.*(æ—¥|JP|(?i)Japan))^((?!(æ¸¯|å°|éŸ©|æ–°|ç¾|è‹±|æµ·å¤–)).)*$, check-interval=600, tolerance=0, img-url=https://ghproxy.com/https://raw.githubusercontent.com/ByteTimes/FilterRules/Rules/Images/Color/country/JP.png
url-latency-benchmark=éŸ©å›½èŠ‚ç‚¹, server-tag-regex=(?=.*(éŸ©|KR|(?i)Korea))^((?!(æ¸¯|å°|æ—¥|æ–°|ç¾|è‹±|æµ·å¤–)).)*$, check-interval=600, tolerance=0, img-url=https://ghproxy.com/https://raw.githubusercontent.com/ByteTimes/FilterRules/Rules/Images/Color/country/KR.png
url-latency-benchmark=ç‹®åŸèŠ‚ç‚¹, server-tag-regex=(?=.*(æ–°|ç‹®|ç…|SG|(?i)Singapore))^((?!(æ¸¯|å°|æ—¥|éŸ©|ç¾|è‹±|æµ·å¤–)).)*$, check-interval=600, tolerance=0, img-url=https://ghproxy.com/https://raw.githubusercontent.com/ByteTimes/FilterRules/Rules/Images/Color/country/SG.png
url-latency-benchmark=ç¾å›½èŠ‚ç‚¹, server-tag-regex=(?=.*(ç¾|US|(?i)States|American))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°|è‹±|æµ·å¤–)).)*$, check-interval=600, tolerance=0, img-url=https://ghproxy.com/https://raw.githubusercontent.com/ByteTimes/FilterRules/Rules/Images/Color/country/US.png
url-latency-benchmark=è‹±å›½èŠ‚ç‚¹, server-tag-regex=(?=.*(è‹±|UK|(?i)United Kingdom|Britain|England))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°|ç¾|æµ·å¤–)).)*$, check-interval=600, tolerance=0, img-url=https://ghproxy.com/https://raw.githubusercontent.com/ByteTimes/FilterRules/Rules/Images/Color/country/UK.png

[server_remote]
# > é­”æ³•èŠ‚ç‚¹è®¢é˜…

[filter_remote]
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/RuleSet/Unbreak.list, tag=è§„åˆ™ä¿®æ­£, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true
https://anti-ad.net/surge2.txt, tag=å¹¿å‘Šç»ˆç»“è€…, force-policy=å¹¿å‘Šå±è”½, update-interval=172800, opt-parser=true, enabled=true
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/RuleSet/ExtraRules/WeChat.list, tag=å¾®ä¿¡ç›´è¿, force-policy=direct, update-interval=172800, opt-parser=false, enabled=true
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/RuleSet/ExtraRules/TikTok.list, tag=æµ·å¤–æŠ–éŸ³, force-policy=å…¨çƒåŠ é€Ÿ, update-interval=172800, opt-parser=true, enabled=true
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/RuleSet/ExtraRules/GoogleVoice.list, tag=Google Voice, force-policy=ç¾å›½èŠ‚ç‚¹, update-interval=172800, opt-parser=true, enabled=true
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/RuleSet/ExtraRules/OpenAi.list, tag=OpenAi, force-policy=è‹±å›½èŠ‚ç‚¹, update-interval=172800, opt-parser=true, enabled=true
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/RuleSet/StreamingMedia/Streaming.list, tag=å›½é™…åª’ä½“, force-policy=å›½é™…åª’ä½“, update-interval=172800, opt-parser=true, enabled=true
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/RuleSet/StreamingMedia/StreamingSE.list, tag=å“”å“©å“”å“©, force-policy=æµ·å¤–ç‰ˆæœ¬, update-interval=172800, opt-parser=true, enabled=true
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/RuleSet/Global.list, tag=å…¨çƒåŠ é€Ÿ, force-policy=å…¨çƒåŠ é€Ÿ, update-interval=172800, opt-parser=true, enabled=true
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/RuleSet/ExtraRules/Apple.list, tag=è‹¹æœæœåŠ¡, force-policy=è‹¹æœæœåŠ¡, update-interval=172800, opt-parser=true, enabled=true
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/RuleSet/ASN.China.list, tag=å›½å†…ç½‘ç«™, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/RuleSet/LocalAreaNetwork.list, tag=æœ¬åœ°åœ°å€, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true

[rewrite_remote]

#>>>>>>>>>>>è§£é”ä¼šå‘˜
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/Rewrite/UnlockVIP/Spotify.conf, tag=SpotifyéŸ³ä¹VIP[éŸ³è´¨â‰¤é«˜], update-interval=86400, opt-parser=false, enabled=true
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/Rewrite/ForOwnUse.conf, tag=è‡ªç”¨ä¸“å±VIP, update-interval=86400, opt-parser=false, enabled=true
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/Rewrite/ExtraRules/Kuwo.conf, tag=é…·æˆ‘éŸ³ä¹SVIP, update-interval=86400, opt-parser=false, enabled=true

#>>>>>>>>>>>è½¯ä»¶å¢å¼º
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/Rewrite/ExtraRules/BaiduCloud.conf, tag=ç™¾åº¦ç½‘ç›˜å€é€Ÿ, update-interval=86400, opt-parser=false, enabled=true
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/Rewrite/ExtraRules/UnblockURLinWeChat.conf, tag=å¾®ä¿¡è§£é”è¢«å±è”½çš„URL, update-interval=86400, opt-parser=false, enabled=true

#>>>>>>>>>>>åº”ç”¨å»å¹¿å‘Š
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/Rewrite/AdBlock/StartUp.conf, tag=å»å¼€å±å¹¿å‘Š2.0, update-interval=86400, opt-parser=false, enabled=true
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/Rewrite/AdBlock/Bilibili.conf, tag=Bç«™å»å¹¿å‘Š+1080Pé«˜ç ç‡, update-interval=86400, opt-parser=false, enabled=true
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/Rewrite/AdBlock/Zhihu.conf, tag=çŸ¥ä¹å»å¹¿å‘ŠåŠä½“éªŒå¢å¼º, update-interval=86400, opt-parser=false, enabled=true
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/Rewrite/AdBlock/Tieba.conf, tag=ç™¾åº¦è´´å§å»å¹¿å‘Š, update-interval=86400, opt-parser=false, enabled=true
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/Rewrite/AdBlock/Applet.conf, tag=å¾®ä¿¡å°ç¨‹åºå»å¹¿å‘Š, update-interval=86400, opt-parser=false, enabled=true
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/Rewrite/AdBlock/YoutubeAds.conf, tag=æ²¹ç®¡å»å¹¿å‘Š, update-interval=86400, opt-parser=false, enabled=true
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/Rewrite/AdBlock/Weibo.conf, tag=å¾®åšå»å¹¿å‘Š, update-interval=86400, opt-parser=false, enabled=true
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/Rewrite/AdBlock/Ximalaya.conf, tag=å–œé©¬æ‹‰é›…å»å¹¿å‘Š, update-interval=86400, opt-parser=false, enabled=true
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/Rewrite/AdBlock/Amap.conf, tag=é«˜å¾·åœ°å›¾å‡€åŒ–[å¸è½½é‡è£…], update-interval=86400, opt-parser=true, enabled=true

#>>>>>>>>>>>é€šç”¨å»å¹¿å‘Š
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/Rewrite/General.conf, tag=ç¥æœºé‡å®šå‘, update-interval=86400, opt-parser=false, enabled=true

#>>>>>>>>>>>ç½‘é¡µä¼˜åŒ–
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/Rewrite/ExtraRules/WebAdBlock.conf, tag=å½±è§†ç½‘ç«™å»å¹¿å‘Š, update-interval=86400, opt-parser=false, enabled=true
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/Rewrite/ExtraRules/Douban.conf, tag=è±†ç“£ç”µå½±ç½‘é¡µå¿«æ·è·³è½¬, update-interval=86400, opt-parser=false, enabled=true

#>>>>>>>>>>>æœªå¯ç”¨çš„é‡å†™
https://ghproxy.com/https://github.com/ByteTimes/FilterRules/raw/Rules/Profiles/Rewrite/ExtraRules/History_price.conf, tag=äº¬ä¸œæ·˜å®æ¯”ä»·è„šæœ¬, update-interval=86400, opt-parser=false, enabled=false


[server_local]
# > é­”æ³•èŠ‚ç‚¹æ‰‹åŠ¨æ·»åŠ 

[filter_local]
geoip, cn, direct
final, ç»ˆæç­–ç•¥

[rewrite_local]
# > æœ¬åœ°å¤å†™è§„åˆ™

[task_local]
# > è¯·æ‰‹åŠ¨æ·»åŠ ä¸‹é¢çš„è®¢é˜…ï¼ˆæµåª’ä½“Taskè®¢é˜…é›†åˆï¼‰
# https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/UI-Action.json
# > æµåª’ä½“è§£é”æŸ¥è¯¢
event-interaction https://ghproxy.com/https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/streaming-ui-check.js, tag=æµåª’ä½“è§£é”æŸ¥è¯¢, img-url=arrowtriangle.right.square.system, enabled=true

[http_backend]
# > Boxjsè®¾ç½®ï¼Œæ”¹ä¸ºä½¿ç”¨http backendæ–¹å¼ï¼Œè®¿é—®åœ°å€æ”¹ä¸ºhttp://127.0.0.1:9999ï¼Œæ›´æ–°é…ç½®åè¯·é•¿æŒ‰é£è½¦-æ›´æ–°ï¼Œç„¶åé‡å¯ä»£ç†
# > BoxJsç›¸å…³æ•™ç¨‹å‚è€ƒ https://chavyleung.gitbook.io/boxjs/
https://ghproxy.com/https://raw.githubusercontent.com/chavyleung/scripts/master/chavy.box.js, host=boxjs.com, tag=BoxJS, path=^/, enabled=false

[mitm]
# æ¸©é¦¨æé†’ï¼špassphraseå’Œp12ä»£ä¸ºè¯ä¹¦&ä¸»æœºåéƒ¨åˆ†, æ›´æ–°é…ç½®å‰å¯æŠŠæ—§çš„é…ç½®ä¸­passphraseå’Œp12ä»£ç æ‹·è´ä¸‹æ¥, å¯¼å…¥æ–°çš„é…ç½®æ–‡ä»¶æŠŠå†…å®¹ç²˜è´´åœ¨å¯¹åº”ä½ç½®å°±ä¸ç”¨é‡è£…è¯ä¹¦
passphrase = 
p12 = 
skip_validating_cert = true
force_sni_domain_name = false
hostname = -*api.smzdm.com, -consumer.fcbox.com, -*huami.com, -weather-data.apple.com, -*amemv.com, -*snssdk.com, -www.google.com
